{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-hot-toast\";\nconst initialState = {\n  productList: [],\n  cartItem: []\n};\nexport const productSlice = createSlice({\n  name: \"product\",\n  initialState,\n  reducers: {\n    setDataProduct: (state, action) => {\n      state.productList = [...action.payload];\n    },\n    addCartItem: (state, action) => {\n      const check = state.cartItem.some(el => el._id === action.payload._id);\n      if (check) {\n        toast(\"Already Item in Cart\");\n      } else {\n        toast(\"Item Add successfully\");\n        const total = 0;\n        state.cartItem = [...state.cartItem, {\n          ...action.payload,\n          qty: 0,\n          total: total\n        }];\n      }\n    },\n    deleteCartItem: (state, action) => {\n      if (!isLoggedIn) {\n        // If user is not logged in, redirect to login page\n        // You can implement your own logic for redirecting to the login page\n        // For example:\n        // Replace '/login' with your actual login page route\n        window.location.href = '/home';\n        return; // Prevent further execution\n      }\n\n      toast(\"one Item Delete\");\n      const index = state.cartItem.findIndex(el => el._id === action.payload);\n      state.cartItem.splice(index, 1);\n      console.log(index);\n    },\n    increaseQty: (state, action) => {\n      const index = state.cartItem.findIndex(el => el._id === action.payload);\n      let qty = state.cartItem[index].qty;\n      const qtyInc = 0.5 + qty;\n      state.cartItem[index].qty = qtyInc;\n      const price = state.cartItem[index].price;\n      const total = price * qtyInc;\n      state.cartItem[index].total = total;\n    },\n    decreaseQty: (state, action) => {\n      const index = state.cartItem.findIndex(el => el._id === action.payload);\n      let qty = state.cartItem[index].qty;\n      if (qty > 0) {\n        const qtyDec = qty - 0.5;\n        state.cartItem[index].qty = qtyDec;\n        const price = state.cartItem[index].price;\n        const total = price * qtyDec;\n        state.cartItem[index].total = total;\n      }\n    }\n  }\n});\nexport const {\n  setDataProduct,\n  addCartItem,\n  deleteCartItem,\n  increaseQty,\n  decreaseQty\n} = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"names":["createSlice","toast","initialState","productList","cartItem","productSlice","name","reducers","setDataProduct","state","action","payload","addCartItem","check","some","el","_id","total","qty","deleteCartItem","isLoggedIn","window","location","href","index","findIndex","splice","console","log","increaseQty","qtyInc","price","decreaseQty","qtyDec","actions","reducer"],"sources":["D:/AGRIDUCT/frontend/src/redux/productSlide.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { toast } from \"react-hot-toast\";\r\nconst initialState = {\r\n  productList: [],\r\n  cartItem: [],\r\n};\r\n\r\nexport const productSlice = createSlice({\r\n  name: \"product\",\r\n  initialState,\r\n  reducers: {\r\n    setDataProduct: (state, action) => {\r\n      state.productList = [...action.payload];\r\n    },\r\n    addCartItem: (state, action) => {\r\n      const check = state.cartItem.some((el) => el._id === action.payload._id);\r\n      if (check) {\r\n        toast(\"Already Item in Cart\");\r\n      } else {\r\n        toast(\"Item Add successfully\");\r\n        const total = 0;\r\n        state.cartItem = [\r\n          ...state.cartItem,\r\n          { ...action.payload, qty: 0, total: total },\r\n        ];\r\n      }\r\n    },\r\n    deleteCartItem: (state, action) => {\r\n      if (!isLoggedIn) {\r\n        // If user is not logged in, redirect to login page\r\n        // You can implement your own logic for redirecting to the login page\r\n        // For example:\r\n        // Replace '/login' with your actual login page route\r\n        window.location.href = '/home';\r\n        return; // Prevent further execution\r\n      }\r\n      toast(\"one Item Delete\");\r\n      const index = state.cartItem.findIndex((el) => el._id === action.payload);\r\n      state.cartItem.splice(index, 1);\r\n      console.log(index);\r\n    },\r\n    increaseQty: (state, action) => {\r\n      const index = state.cartItem.findIndex((el) => el._id === action.payload);\r\n      let qty = state.cartItem[index].qty;\r\n      const qtyInc = 0.5+qty;\r\n      state.cartItem[index].qty = qtyInc;\r\n\r\n      const price = state.cartItem[index].price;\r\n      const total = (price) * qtyInc;\r\n\r\n      state.cartItem[index].total = total;\r\n    },\r\n    decreaseQty: (state, action) => {\r\n      const index = state.cartItem.findIndex((el) => el._id === action.payload);\r\n      let qty = state.cartItem[index].qty;\r\n      if (qty > 0) {\r\n        const qtyDec = qty-0.5;\r\n        state.cartItem[index].qty = qtyDec;\r\n\r\n        const price = state.cartItem[index].price;\r\n        const total = (price) * qtyDec;\r\n\r\n        state.cartItem[index].total = total;\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setDataProduct,\r\n  addCartItem,\r\n  deleteCartItem,\r\n  increaseQty,\r\n  decreaseQty,\r\n} = productSlice.actions;\r\n\r\nexport default productSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}