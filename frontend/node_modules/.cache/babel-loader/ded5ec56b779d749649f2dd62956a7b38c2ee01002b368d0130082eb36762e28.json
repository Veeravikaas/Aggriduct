{"ast":null,"code":"import _regeneratorRuntime from\"D:/AGRIDUCT/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/AGRIDUCT/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/AGRIDUCT/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/AGRIDUCT/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/AGRIDUCT/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{toast}from'react-hot-toast';import{BsCloudUpload}from\"react-icons/bs\";import{ImagetoBase64}from'../utility/ImagetoBase64';import'../page/newproduct.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Newproduct=function Newproduct(){var _useState=useState({name:\"\",category:\"\",image:\"\",quantity:\"\",price:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var handleOnChange=function handleOnChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setData(function(preve){return _objectSpread(_objectSpread({},preve),{},_defineProperty({},name,value));});};var uploadImage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return ImagetoBase64(e.target.files[0]);case 2:data=_context.sent;// console.log(data)\nsetData(function(preve){return _objectSpread(_objectSpread({},preve),{},{image:data});});case 4:case\"end\":return _context.stop();}},_callee);}));return function uploadImage(_x){return _ref.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var name,image,category,price,quantity,fetchData,fetchRes;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(data);name=data.name,image=data.image,category=data.category,price=data.price,quantity=data.quantity;if(!(name&&image&&category&&price&&quantity)){_context2.next=15;break;}_context2.next=6;return fetch(\"\".concat(process.env.REACT_APP_SERVER_DOMIN,\"/uploadProduct\"),{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(data)});case 6:fetchData=_context2.sent;_context2.next=9;return fetchData.json();case 9:fetchRes=_context2.sent;console.log(fetchRes);toast(fetchRes.message);setData(function(){return{name:\"\",category:\"\",image:\"\",price:\"\",quantity:\"\",description:\"\"};});_context2.next=16;break;case 15:toast(\"Enter required Fields\");case 16:case\"end\":return _context2.stop();}},_callee2);}));return function handleSubmit(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"newp p-6 mx-6 text-white font-bold \",children:/*#__PURE__*/_jsxs(\"form\",{className:\" newp2 m-auto  max-w-md  shadow flex flex-col p-4 rounded-md border-4 border-yellow-500\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"py-1 px-1 bg-yellow-300  rounded mt-1 mb-2 focus-within:outline-white\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"bg-yellow-500  rounded p-1 my-1 mx-300 w-full outline-white\",onChange:handleOnChange,value:data.name})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Category\"}),/*#__PURE__*/_jsx(\"div\",{className:\" py-1 px-1 bg-yellow-300  rounded mt-1 mb-2 focus-within:outline-white\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"bg-yellow-500 w-full items-center rounded p-1 my-1 \",id:\"category\",name:\"category\",onChange:handleOnChange,value:data.category,children:[/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"select category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fruits\",children:\"Fruits\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vegetable\",children:\"Vegetable\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rice\",children:\"rice\"}),/*#__PURE__*/_jsx(\"option\",{value:\"grains\",children:\"Grains\"})]})}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"image\",children:[\"Image\",/*#__PURE__*/_jsx(\"div\",{className:\"h-40  bg-yellow-300  rounded flex items-center justify-center cursor-pointer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-500 flex items-center justify-center cursor-pointer p-10 px-auto\",children:[data.image?/*#__PURE__*/_jsx(\"img\",{src:data.image,className:\"h-full\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-5xl\",children:/*#__PURE__*/_jsx(BsCloudUpload,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",id:\"image\",onChange:uploadImage,className:\"hidden\"})]})})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",className:\"my-1\",children:\"Price\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-300 rounded p-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"bg-yellow-500 w-full px-2 p-1 rounded my-1\",name:\"price\",onChange:handleOnChange,value:data.price})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"quantity\",className:\"my-1\",children:\"Quantity( in kg )\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-300 rounded p-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"bg-yellow-500 rounded w-full p-1 my-1\",name:\"quantity\",onChange:handleOnChange,value:data.quantity})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-300 rounded p-1\",children:/*#__PURE__*/_jsx(\"textarea\",{rows:2,value:data.description,className:\"bg-yellow-500 w-full rounded p-1 my-1 resize-none\",name:\"description\",onChange:handleOnChange})}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full max-w-[150px] m-auto  bg-yellow-500 hover:bg-yellow-600 cursor-pointer  text-white text-xl font-medium text-center py-1 rounded-full mt-4\",children:\"Save\"})]})});};export default Newproduct;","map":{"version":3,"names":["React","useState","toast","BsCloudUpload","ImagetoBase64","Newproduct","name","category","image","quantity","price","description","data","setData","handleOnChange","e","target","value","preve","uploadImage","files","handleSubmit","preventDefault","console","log","fetch","process","env","REACT_APP_SERVER_DOMIN","method","headers","body","JSON","stringify","fetchData","json","fetchRes","message"],"sources":["D:/AGRIDUCT/frontend/src/page/Newproduct.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { toast } from 'react-hot-toast'\r\nimport {BsCloudUpload} from \"react-icons/bs\"\r\nimport { ImagetoBase64 } from '../utility/ImagetoBase64'\r\nimport '../page/newproduct.css'\r\n\r\nconst Newproduct = () => {\r\n  const [data,setData] = useState({\r\n    name : \"\",\r\n    category : \"\",\r\n    image : \"\",\r\n    quantity : \"\",\r\n    price : \"\",\r\n    description : \"\"\r\n  })\r\n\r\n  const handleOnChange = (e)=>{\r\n    const {name,value} = e.target\r\n\r\n    setData((preve)=>{\r\n        return{\r\n          ...preve,\r\n          [name] : value\r\n        }\r\n    })\r\n\r\n  }\r\n\r\n  const uploadImage = async(e)=>{\r\n      const data = await ImagetoBase64(e.target.files[0])\r\n      // console.log(data)\r\n\r\n      setData((preve)=>{\r\n        return{\r\n          ...preve,\r\n          image : data\r\n        }\r\n      })\r\n  }\r\n\r\n  const handleSubmit = async(e)=>{\r\n    e.preventDefault()\r\n    console.log(data)\r\n\r\n    const {name,image,category,price,quantity} = data\r\n\r\n    if(name && image && category && price &&quantity){\r\n      const fetchData = await fetch(`${process.env.REACT_APP_SERVER_DOMIN}/uploadProduct`,{\r\n        method : \"POST\",\r\n        headers : {\r\n          \"content-type\" : \"application/json\"\r\n        },\r\n        body : JSON.stringify(data)\r\n      })\r\n  \r\n      const fetchRes =  await fetchData.json()\r\n  \r\n      console.log(fetchRes)\r\n      toast(fetchRes.message)\r\n\r\n      setData(()=>{\r\n        return{\r\n          name : \"\",\r\n          category : \"\",\r\n          image : \"\",\r\n          price : \"\",\r\n          quantity : \"\",\r\n          description : \"\"\r\n        }\r\n      })\r\n    }\r\n    else{\r\n      toast(\"Enter required Fields\")\r\n    }\r\n    \r\n   \r\n  }\r\n  return (\r\n    <div className=\"newp p-6 mx-6 text-white font-bold \">\r\n       <form className=\" newp2 m-auto  max-w-md  shadow flex flex-col p-4 rounded-md border-4 border-yellow-500\" onSubmit={handleSubmit}>\r\n        <label htmlFor='name'>Name</label>\r\n        <div className=\"py-1 px-1 bg-yellow-300  rounded mt-1 mb-2 focus-within:outline-white\"> \r\n          <input type={\"text\"}  name=\"name\" className='bg-yellow-500  rounded p-1 my-1 mx-300 w-full outline-white' onChange={handleOnChange} value={data.name} />\r\n        </div>\r\n        <label htmlFor='category'>Category</label>\r\n        <div className=\" py-1 px-1 bg-yellow-300  rounded mt-1 mb-2 focus-within:outline-white\">\r\n          \r\n          <select className='bg-yellow-500 w-full items-center rounded p-1 my-1 ' id='category' name='category' onChange={handleOnChange} value={data.category}>\r\n            <option value={\"other\"}>select category</option>\r\n            <option value={\"fruits\"}>Fruits</option>\r\n            <option value={\"vegetable\"}>Vegetable</option>\r\n            <option value={\"rice\"}>rice</option>\r\n            <option value={\"grains\"}>Grains</option>\r\n          </select>\r\n\r\n        </div>\r\n        <label htmlFor='image'>Image\r\n        <div  className='h-40  bg-yellow-300  rounded flex items-center justify-center cursor-pointer'>\r\n          <div className='bg-yellow-500 flex items-center justify-center cursor-pointer p-10 px-auto'>\r\n            {\r\n              data.image ? <img src={data.image} className=\"h-full\" /> :<span className='text-5xl'><BsCloudUpload/></span> \r\n            }\r\n          \r\n\r\n          \r\n            <input type={\"file\"} accept=\"image/*\" id=\"image\" onChange={uploadImage} className=\"hidden\"/>\r\n          </div>\r\n            \r\n            \r\n           \r\n        </div>\r\n        </label>\r\n        \r\n\r\n        <label htmlFor='price' className='my-1'>Price</label>\r\n        <div className='bg-yellow-300 rounded p-1'>\r\n          <input type={\"text\"} className='bg-yellow-500 w-full px-2 p-1 rounded my-1' name='price' onChange={handleOnChange} value={data.price}/>\r\n        </div>\r\n\r\n        <label htmlFor='quantity' className='my-1'>Quantity( in kg )</label>\r\n        <div className='bg-yellow-300 rounded p-1'>\r\n          <input type={\"text\"} className='bg-yellow-500 rounded w-full p-1 my-1' name='quantity' onChange={handleOnChange} value={data.quantity}/>\r\n        </div>\r\n\r\n        <label htmlFor='description'>Description</label>\r\n        <div className='bg-yellow-300 rounded p-1'>\r\n          <textarea rows={2} value={data.description} className='bg-yellow-500 w-full rounded p-1 my-1 resize-none' name='description' onChange={handleOnChange}></textarea>\r\n        </div>\r\n        <button className='w-full max-w-[150px] m-auto  bg-yellow-500 hover:bg-yellow-600 cursor-pointer  text-white text-xl font-medium text-center py-1 rounded-full mt-4'>Save</button>\r\n       </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Newproduct"],"mappings":"miBAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,KAAK,KAAQ,iBAAiB,CACvC,OAAQC,aAAa,KAAO,gBAAgB,CAC5C,OAASC,aAAa,KAAQ,0BAA0B,CACxD,MAAO,wBAAwB,yFAE/B,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvB,cAAuBJ,QAAQ,CAAC,CAC9BK,IAAI,CAAG,EAAE,CACTC,QAAQ,CAAG,EAAE,CACbC,KAAK,CAAG,EAAE,CACVC,QAAQ,CAAG,EAAE,CACbC,KAAK,CAAG,EAAE,CACVC,WAAW,CAAG,EAChB,CAAC,CAAC,wCAPKC,IAAI,eAACC,OAAO,eASnB,GAAMC,eAAc,CAAG,QAAjBA,eAAc,CAAIC,CAAC,CAAG,CAC1B,cAAqBA,CAAC,CAACC,MAAM,CAAtBV,IAAI,WAAJA,IAAI,CAACW,KAAK,WAALA,KAAK,CAEjBJ,OAAO,CAAC,SAACK,KAAK,CAAG,CACb,sCACKA,KAAK,wBACPZ,IAAI,CAAIW,KAAK,GAEpB,CAAC,CAAC,CAEJ,CAAC,CAED,GAAME,YAAW,4FAAG,iBAAMJ,CAAC,kJACJX,cAAa,CAACW,CAAC,CAACC,MAAM,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC,QAA7CR,IAAI,eACV;AAEAC,OAAO,CAAC,SAACK,KAAK,CAAG,CACf,sCACKA,KAAK,MACRV,KAAK,CAAGI,IAAI,GAEhB,CAAC,CAAC,sDACL,kBAVKO,YAAW,4CAUhB,CAED,GAAME,aAAY,6FAAG,kBAAMN,CAAC,iLAC1BA,CAAC,CAACO,cAAc,EAAE,CAClBC,OAAO,CAACC,GAAG,CAACZ,IAAI,CAAC,CAEVN,IAAI,CAAkCM,IAAI,CAA1CN,IAAI,CAACE,KAAK,CAA4BI,IAAI,CAArCJ,KAAK,CAACD,QAAQ,CAAmBK,IAAI,CAA/BL,QAAQ,CAACG,KAAK,CAAaE,IAAI,CAAtBF,KAAK,CAACD,QAAQ,CAAIG,IAAI,CAAhBH,QAAQ,MAEtCH,IAAI,EAAIE,KAAK,EAAID,QAAQ,EAAIG,KAAK,EAAGD,QAAQ,mDACtBgB,MAAK,WAAIC,OAAO,CAACC,GAAG,CAACC,sBAAsB,mBAAiB,CAClFC,MAAM,CAAG,MAAM,CACfC,OAAO,CAAG,CACR,cAAc,CAAG,kBACnB,CAAC,CACDC,IAAI,CAAGC,IAAI,CAACC,SAAS,CAACrB,IAAI,CAC5B,CAAC,CAAC,QANIsB,SAAS,uCAQSA,UAAS,CAACC,IAAI,EAAE,QAAlCC,QAAQ,gBAEdb,OAAO,CAACC,GAAG,CAACY,QAAQ,CAAC,CACrBlC,KAAK,CAACkC,QAAQ,CAACC,OAAO,CAAC,CAEvBxB,OAAO,CAAC,UAAI,CACV,MAAM,CACJP,IAAI,CAAG,EAAE,CACTC,QAAQ,CAAG,EAAE,CACbC,KAAK,CAAG,EAAE,CACVE,KAAK,CAAG,EAAE,CACVD,QAAQ,CAAG,EAAE,CACbE,WAAW,CAAG,EAChB,CAAC,CACH,CAAC,CAAC,iCAGFT,KAAK,CAAC,uBAAuB,CAAC,yDAIjC,kBApCKmB,aAAY,8CAoCjB,CACD,mBACE,YAAK,SAAS,CAAC,qCAAqC,uBACjD,cAAM,SAAS,CAAC,yFAAyF,CAAC,QAAQ,CAAEA,YAAa,wBAChI,cAAO,OAAO,CAAC,MAAM,UAAC,MAAI,EAAQ,cAClC,YAAK,SAAS,CAAC,uEAAuE,uBACpF,cAAO,IAAI,CAAE,MAAO,CAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,6DAA6D,CAAC,QAAQ,CAAEP,cAAe,CAAC,KAAK,CAAEF,IAAI,CAACN,IAAK,EAAG,EACpJ,cACN,cAAO,OAAO,CAAC,UAAU,UAAC,UAAQ,EAAQ,cAC1C,YAAK,SAAS,CAAC,wEAAwE,uBAErF,gBAAQ,SAAS,CAAC,qDAAqD,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAEQ,cAAe,CAAC,KAAK,CAAEF,IAAI,CAACL,QAAS,wBACnJ,eAAQ,KAAK,CAAE,OAAQ,UAAC,iBAAe,EAAS,cAChD,eAAQ,KAAK,CAAE,QAAS,UAAC,QAAM,EAAS,cACxC,eAAQ,KAAK,CAAE,WAAY,UAAC,WAAS,EAAS,cAC9C,eAAQ,KAAK,CAAE,MAAO,UAAC,MAAI,EAAS,cACpC,eAAQ,KAAK,CAAE,QAAS,UAAC,QAAM,EAAS,GACjC,EAEL,cACN,eAAO,OAAO,CAAC,OAAO,WAAC,OACvB,0BAAM,SAAS,CAAC,8EAA8E,uBAC5F,aAAK,SAAS,CAAC,4EAA4E,WAEvFK,IAAI,CAACJ,KAAK,cAAG,YAAK,GAAG,CAAEI,IAAI,CAACJ,KAAM,CAAC,SAAS,CAAC,QAAQ,EAAG,cAAE,aAAM,SAAS,CAAC,UAAU,uBAAC,KAAC,aAAa,IAAE,EAAO,cAK9G,cAAO,IAAI,CAAE,MAAO,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAEW,WAAY,CAAC,SAAS,CAAC,QAAQ,EAAE,GACxF,EAIF,GACE,cAGR,cAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,UAAC,OAAK,EAAQ,cACrD,YAAK,SAAS,CAAC,2BAA2B,uBACxC,cAAO,IAAI,CAAE,MAAO,CAAC,SAAS,CAAC,4CAA4C,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAEL,cAAe,CAAC,KAAK,CAAEF,IAAI,CAACF,KAAM,EAAE,EACnI,cAEN,cAAO,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,UAAC,mBAAiB,EAAQ,cACpE,YAAK,SAAS,CAAC,2BAA2B,uBACxC,cAAO,IAAI,CAAE,MAAO,CAAC,SAAS,CAAC,uCAAuC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAEI,cAAe,CAAC,KAAK,CAAEF,IAAI,CAACH,QAAS,EAAE,EACpI,cAEN,cAAO,OAAO,CAAC,aAAa,UAAC,aAAW,EAAQ,cAChD,YAAK,SAAS,CAAC,2BAA2B,uBACxC,iBAAU,IAAI,CAAE,CAAE,CAAC,KAAK,CAAEG,IAAI,CAACD,WAAY,CAAC,SAAS,CAAC,mDAAmD,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAEG,cAAe,EAAY,EAC9J,cACN,eAAQ,SAAS,CAAC,kJAAkJ,UAAC,MAAI,EAAS,GAC5K,EACJ,CAEV,CAAC,CAED,cAAeT,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}